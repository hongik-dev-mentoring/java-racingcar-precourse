# 기능 명세와 분석

코드를 짜기 전 기능 명세를 분석하고, 필요한 메시지와 객체를 생각해 보았습니다. <br>
순서는 아래와 같습니다
1. 기능 명세
2. 명세에 따라 필요한 메시지 분석
3. 메시지 묶기
4. 묶인 기준으로 책임 가져갈 객체 정하기


## 1. 기능 명세
문제에서 주어진 명세는 아래와 같습니다.
- 주어진 횟수 동안 n대의 자동차는 전진 또는 멈출 수 있다.
- 각 자동차에 이름을 부여할 수 있다. 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.
- 자동차 이름은 쉼표(,)를 기준으로 구분하며 이름은 5자 이하만 가능하다.
- 사용자는 몇 번의 이동을 할 것인지를 입력할 수 있어야 한다.
- 전진하는 조건은 0에서 9 사이에서 무작위 값을 구한 후 무작위 값이 4 이상일 경우이다.
- 자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다. 우승자는 한 명 이상일 수 있다.
- 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분한다.
- 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.
- 아래의 프로그래밍 실행 결과 예시와 동일하게 입력과 출력이 이루어져야 한다.

## 2. 명세에 따라 필요한 메시지 분석
객체 보다 행동을 먼저 생각했습니다. 결국 객체들이 해야할 행동과 (지게 될 책임들), 주고 받을 메시지들을 먼저 생각했습니다.


#### 2.1 **주어진 횟수 동안 n대의 자동차는 전진 또는 멈출 수 있다.**
- 주어진 횟수를 저장한다.
- n 대의 자동차 정보를 저장한다.
- 자동차는 전진할 수 있다.
- 자동차는 멈출 수 있다.


#### 2.2 **각 자동차에 이름을 부여할 수 있다. 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.**
- 자동차에 이름을 부여할 수 있다.
- 전진하는 자동차 이름을 출력할 수 있다. 


#### 2.3 **자동차 이름은 쉼표(,)를 기준으로 구분하며 이름은 5자 이하만 가능하다.**
- 자동차 이름을 쉼표로 구분하여 출력한다.
- 자동차 이름을 저장할 수 있다. 제한 5자.


#### 2.4 **사용자는 몇 번의 이동을 할 것인지를 입력할 수 있어야 한다.**
- 사용자는 이동 횟수를 입력할 수 있다.

#### 2.5 **전진하는 조건은 0에서 9 사이에서 무작위 값을 구한 후 무작위 값이 4 이상일 경우이다.**
- 0에서 9사이의 무작위 값을 구할 수 있다.
- 구한 무작위 값이 4이상일 때 전진한다.


#### 2.6 **자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다. 우승자는 한 명 이상일 수 있다.**
- 자동차의 진행 상태를 알 수 있다.
- 우승자를 알 수 있다 + 출력


#### 2.7 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분한다.
- 우승자 출력시 쉼표 구분 처리


#### 2.8 **사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받는다.**
- 입력에 대한 예외 처리가 가능하다.
- 에러 메시지를 출력 가능하고 형식이 있다.
- 예외 처리 이후 입력을 이어서 받을 수 있다.


#### 2.9 **아래의 프로그래밍 실행 결과 예시와 동일하게 입력과 출력이 이루어져야 한다.**
- 입출력에 정해진 형식이 있다.

## 3. 구현할 기능
크게 2가지 영역으로 묶었습니다. 이곳에 있는 기능들을 구현하게 될 것입니다.

### 3.1 입력

1. 사용자는 이동 횟수를 입력할 수 있다.
2. 사용자는 자동차 이름을 입력할 수 있다. 
3. 자동차 이름에는 5자의 글자수 제한이 있다.
4. n대의 자동차 정보(이름)을 저장한다.
5. 입력된 이동 횟수를 저장한다.
6. 입력에는 정해진 형식이 있다.
7. 입력에 대한 예외 처리가 가능하다.
8. 에러 메시지를 출력 가능하고 형식이 있다.
9. 예외 처리 이후 입력을 이어서 받을 수 있다.

### 3.2 경주

1. 자동차에 이름을 부여할 수 있다.
3. 자동차는 0에서 9사이의 무작위 값을 구할 수 있다.
4. 구한 무작위 값이 4이상일 때 전진한다.
6. 자동차의 진행 상태를 기록할 수 있다.
9. 자동차들의 전진 상태를 출력할 수 있다. 
7. 우승자를 알 수 있다.
8. 우승자를 정해진 형식 출력할 수 있다.

# 4. 구현할 객체

1. **자동차 객체**
a. 이름을 저장할 수 있다.
b. 레이싱을 진행할 수 있다.
   - 무작위 숫자를 얻을 수 있다. → 랜덤 추상화 필요할 수도 있다.
   - 숫자 값에 따라 전진 처리 → position의 변경

   c. 진행 상태를 저장할 수 있다.
   d. 자신의 진행 상태를 출력할 수 있다.
1. **레이싱 객체**
a. 잔여 게임 횟수가 있는 경우 레이싱을 진행할 수 있다.
b. 자동차들에게 게임을 진행시킬 수 있다.
c. 순서에 맞게 회차별 진행 결과를 출력할 수 있다.
d. 우승 자동차를 체크할 수 있다.
e. 우승 자동차에 대한 중복 체크가 가능하다.
1. **인풋 객체**
a. 자동차 이름을 입력 받을 수 있다.
b. 자동차 이름 입력의 다양한 예외를 처리할 수 있다.
c. 횟수를 입력 받을 수 있다.
d. 횟수에 대한 다양한 예외 처리가 가능하다.